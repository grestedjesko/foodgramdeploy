nameOverride: ""
fullnameOverride: ""

namespaceCreate: false

ingress:
  enabled: true
  className: "nginx"
  annotations:
    nginx.ingress.kubernetes.io/proxy-body-size: "10m"
  hosts:
    - host: ""
      paths:
        - path: /api
          pathType: Prefix
          backend: backend
        - path: /admin
          pathType: Prefix
          backend: backend
        - path: /backend_static
          pathType: Prefix
          backend: frontend
        - path: /media
          pathType: Prefix
          backend: frontend
        - path: /
          pathType: Prefix
          backend: frontend
  tls: []

backend:
  enabled: true
  replicaCount: 1
  image:
    registry: ""
    repository: foodgram-backend
    tag: "latest"
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 8000
    targetPort: 8000
  config:
    dbEngine: "django.db.backends.postgresql"
    languageCode: "ru-ru"
    timeZone: "UTC"
    staticUrl: "/backend_static/"
    mediaUrl: "/media/"
    pageSize: "6"
  secrets:
    postgresPassword: "change_me"
    djangoSecretKey: "change_me"
    debug: "False"
    allowedHosts: "*"
  database:
    host: "foodgram-postgresql"
    port: 5432
    name: "foodgram"
    username: "foodgram_user"
  persistence:
    static:
      enabled: true
      storageClass: ""
      accessModes:
        - ReadWriteOnce
      size: 1Gi
    media:
      enabled: true
      storageClass: ""
      accessModes:
        - ReadWriteOnce
      size: 5Gi
  migrations:
    enabled: true
    hookAnnotation: "post-install,post-upgrade"
    hookWeight: "-5"
    hookDeletePolicy: "before-hook-creation,hook-succeeded"
    backoffLimit: 3
    restartPolicy: "OnFailure"
  collectstatic:
    enabled: true
  resources: {}
  nodeSelector: {}
  tolerations: []
  affinity: {}

frontend:
  enabled: true
  replicaCount: 1
  image:
    registry: ""
    repository: foodgram-frontend
    tag: "latest"
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 80
    targetPort: 80
  staticMountPath: /var/html/backend_static
  mediaMountPath: /var/html/backend_media
  persistence:
    static:
      claimName: "foodgram-backend-static"
    media:
      claimName: "foodgram-backend-media"
  resources: {}
  nodeSelector: {}
  tolerations: []
  affinity: {}

postgresql:
  enabled: true
  auth:
    database: foodgram
    username: foodgram_user
    password: "change_me"
    existingSecret: ""
    secretKeys:
      userPasswordKey: password
  image:
    registry: ""
    repository: postgres
    tag: "15-alpine"
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 5432
    clusterIP: None
  persistence:
    enabled: true
    storageClass: ""
    accessModes:
      - ReadWriteOnce
    size: 5Gi
  resources: {}
  nodeSelector: {}
  tolerations: []
  affinity: {}
